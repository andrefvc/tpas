<link href="../stylesheets/todo-2.css" rel="stylesheet" type="text/css" />
<script src="../scripts/todo-2.js" type="text/javascript"></script>

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
    <h4 class="modal-title">Comentarios</h4>
</div>
<div ng-controller="viagensCtrl" class="modal-body" >
    <div class="portlet-body">
        <div class="row">
            <div ng-show="currentUser" class="form-group">
                <div class="col-md-12">
                    <ul class="media-list">
                        <li class="media">
                            <a class="pull-left" href="javascript:;">
                                <img ng-show="currentUser.foto" class="todo-userpic" src="{{ currentUser.foto }}" width="27px" height="27px"> </a>
                            <div class="media-body">
                                <textarea class="form-control todo-taskbody-taskdesc" rows="3" placeholder="Escrever comentÃ¡rio..." 
                                            ng-model="comment"></textarea>
                            </div>
                        </li>
                    </ul>
                    <button type="button" id="comentViagemBtn" class="pull-right btn btn-outline green" ng-click="insertComentario(comment);"> &nbsp; Gravar &nbsp; </button>
                    <button type="button" id="comentMomentoBtn" class="pull-right btn btn-outline green" ng-click="insertComentarioMomento(comment);"> &nbsp; Gravar &nbsp; </button>
                </div>
            </div>
            <div style="max-height: 600px;" class="col-md-12">
                <div  class="todo-tasklist" ng-repeat="comentario in comentarios | orderBy : '-dataInsercao' ">
                    <div class="todo-tasklist-item todo-tasklist-item-border-green mt-element-ribbon">
                        <div id="removeCommentViagemBtn" ng-show="isOwner(comentario.idUtilizador);" ng-click="removerComentario(comentario);"  class="ribbon ribbon-right ribbon-color-default uppercase " style="cursor:pointer" title="Remover" >
                            <i class="fa fa-trash-o"></i>
                        </div> 
                        <div id="removeCommentMomentosBtn" ng-show="isOwner(comentario.idUtilizador);" ng-click="removerComentarioMomento(comentario);"  class="ribbon ribbon-right ribbon-color-default uppercase " style="cursor:pointer" title="Remover" >
                            <i class="fa fa-trash-o"></i>
                        </div>                       
                        <img ng-show="comentario.foto" class="todo-userpic pull-left" src="{{comentario._user.foto}}" width="27px" height="27px">
                        <div class="todo-tasklist-item-title"> {{ comentario._user.nome}} </div>
                        <div class="todo-tasklist-item-text"> {{ comentario.comentario }} </div>
                        <div class="todo-tasklist-controls pull-left">
                            <span class="todo-tasklist-date">
                                <i class="fa fa-calendar"></i> {{comentario.dataInsercao | date : format : timezone}} </span>
                        </div>
                    </div>                                         
                </div>
            </div>
        </div>
    </div>
</div>
